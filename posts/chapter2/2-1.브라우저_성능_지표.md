# 2-1 브라우저 성능 지표

웹 성능 지표는 웹사이트나 애플리케이션의 로딩 속도와 상호작용성을 객관적으로 측정하기 위해 만들어진 다양한 수치적 기준을 의미한다. 겉보기에는 빠르게 작동하는 것처럼 보여도, 실제로는 사용자 입력에 늦게 반응하거나 눈에 보이지 않는 곳에서 불필요한 로딩이 발생하는 경우가 많다. 이러한 문제를 찾아내고, 어느 부분을 우선적으로 개선할지를 결정하려면 올바른 측정 지표를 이해하고 활용하는 것이 무엇보다 중요하다. 이제 브라우저 성능 지표란 무엇이며, 왜 이를 주목해야 하는지를 자세히 살펴본다.

## 2-1-1 브라우저 성능 지표란 무엇인가

브라우저 성능 지표란 사용자가 웹페이지에 접근했을 때, 얼마나 빠르고 안정적으로 초기 화면을 볼 수 있는지, 페이지와 상호작용하는 과정에서 지연이나 레이아웃 불안정이 발생하는지를 측정하는 항목들의 집합이다. 단순히 페이지가 '몇 초 만에 로드된다'는 총시간만을 보는 것이 아니라, 콘텐츠가 처음 표시되는 시점, 클릭에 대한 반응 속도, 시각적 안정성 등 다양한 요소를 세밀하게 수치화하는 데 목적이 있다.

이러한 지표가 중요해진 배경에는 웹 기술의 복잡화와 사용자 기대치의 상승이라는 두 가지 웹 개발 트렌드의 변화가 있다. 과거에는 텍스트와 간단한 이미지 위주의 웹사이트가 주를 이루었기 때문에, 전체 로딩 시간만 측정해도 사용자가 체감하는 성능 문제를 어느 정도 파악할 수 있었다. 그러나 현대 웹은 방대한 자바스크립트 번들, 다양한 서드파티 라이브러리, 복잡한 프레임워크, SPA(Single Page Application) 구조 등을 기반으로 한다. 이로 인해 로드 시점이 분산되고, 동적 렌더링이나 비동기 데이터 로딩이 빈번히 발생한다.

이처럼 웹 구조가 복잡해지면서 단순한 로딩 완료 시점만 측정해서는 사용자 경험을 제대로 반영할 수 없게 되었다. 예를 들어, 일부 화면은 빠르게 뜨더라도 주요 이미지나 텍스트가 늦게 표시되면 사용자는 여전히 '느리다'고 느낀다. 또 시각적으로는 빨라 보이지만, 버튼 클릭 이후 반응이 늦다면 웹 서비스에 대한 불만이 생긴다. 따라서 로딩의 시작부터 끝까지 다양한 지점을 구분해 측정하고, 이를 종합적으로 모니터링해야 사용자 체감과 일치하는 데이터를 얻는다.

이런 배경에서 등장한 것이 바로 다양한 브라우저 성능 지표다. 대표적으로 구글이 제안한 핵심 웹 지표(Core Web Vitals)인 LCP(Largest Contentful Paint), INP(Interaction to Next Paint), CLS(Cumulative Layout Shift)가 있다. 이 외에도 FCP(First Contentful Paint), TTFB(Time to First Byte) 와 같은 다양한 지표가 존재하며, 각각의 지표는 다음과 같은 질문에 답하기 위해 만들어졌다.

- 사용자가 화면을 처음 인지하는 시점은 언제인가? (FCP)
- 가장 중요한 콘텐츠가 온전히 표시되는 순간은 언제인가? (LCP)
- 화면은 시각적으로 안정적인가, 갑작스러운 레이아웃 변화가 없는가? (CLS)
- 사용자의 클릭이나 스크롤에 즉각적으로 반응하는가? (INP)

이러한 웹 성능 지표는 로딩 속도, 상호작용 응답성, 시각적 안정성, 네트워크 지연 등 여러 범주로 나뉜다. 예를 들어, TTFB는 서버가 첫 바이트를 반환하기까지 걸리는 시간을 측정해 백엔드 성능과 네트워크 상태를 진단하는 데 도움이 된다. FCP는 화면에 처음으로 콘텐츠가 그려지는 시점을 파악하게 해준다. CLS는 콘텐츠 위치 변경에 따른 시각적 불안정성을 수치화하며, INP는 사용자의 인터랙션 후 다음 화면 업데이트까지의 시간을 측정해 상호작용 지연 문제를 진단한다.

상호작용성 지표의 경우, 과거에는 사용자의 첫 번째 입력에 대한 지연 시간만을 측정했던 FID(First Input Delay)가 주로 사용되었다. 하지만 FID는 첫 인터랙션 이후의 응답성은 반영하지 못하는 한계가 있었다. 이후 페이지가 완전히 상호작용 가능해지는 시점을 측정하는 TTI(Time to Interactive)나, FCP와 TTI 사이의 메인 스레드 블로킹 총 시간을 나타내는 TBT(Total Blocking Time) 같은 지표들이 상호작용성 진단에 활용되었다. TBT는 특히 실험실(Lab) 환경에서 긴 작업(Long Tasks)을 식별하고 메인 스레드의 부하를 측정하는 데 유용하다. 현재 핵심 웹 지표인 INP는 이러한 이전 지표들의 한계를 보완하여, 페이지 전체 생애주기 동안 발생하는 모든 인터랙션의 응답성을 포괄적으로 측정하는 방향으로 발전했다. 그럼에도 TTI나 TBT는 여전히 Lighthouse와 같은 도구에서 성능 병목을 진단하는 데 중요한 참고 지표로 사용된다.

이러한 지표를 잘 활용하면, 사용자 이탈이 발생하는 지점을 식별하고, 실제로 체감할 수 있는 성능 개선을 이끌어낸다. 예를 들어, FCP는 빠르지만 LCP가 느리다면 초기 화면은 일찍 보이지만 핵심 콘텐츠는 늦게 나타나 답답함을 유발한다. 반대로 LCP는 빠르지만 CLS가 높다면 콘텐츠가 자주 튀면서 사용자 불편을 초래한다. 이는 곧 서비스 품질에 직결되며, 검색 엔진 최적화(SEO) 측면에서도 중요한 요소다. 구글은 핵심 웹 지표 개선이 검색 순위에 영향을 미친다고 밝혔고, 그 중요도는 점차 높아지고 있다.

성능 지표는 단순히 성능 보고서나 QA 단계에만 쓰이는 것이 아니다. 최근에는 Real User Monitoring(RUM) 기법을 통해 실제 사용자가 어떤 디바이스, 어떤 네트워크 환경에서 사이트를 이용하는지를 실시간으로 관찰하는 방식이 확산되고 있다. 예를 들어 모바일 환경에서 LCP나 INP가 유독 나쁘다면, 해당 구간을 중심으로 PWA 도입, SSR 적용, 이미지 최적화 같은 별도 전략을 마련한다.

브라우저 성능 지표에 대한 관심이 높아지면서, 크롬 개발자 도구(Chrome DevTools), Lighthouse, WebPageTest 같은 분석 도구도 빠르게 발전하고 있다. 이들은 실험실 환경(Lab Data)에서 다양한 지표를 측정할 수 있게 해준다. 한편, Sentry, Datadog, New Relic과 같은 RUM 도구는 실제 사용자 데이터를 수집해 운영 환경에서 성능을 분석하는 데 유용하다. 이처럼 다양한 도구를 조합해, 개발·배포·운영 전반에 걸쳐 성능을 모니터링하고 개선하는 것이 웹 최적화의 일반적인 흐름이다.

정리하자면, 브라우저 성능 지표는 단순한 로딩 시간 측정을 넘어, 사용자의 실제 경험을 수치화한 지표들의 집합이다. 이 지표를 이해하지 못하면 "로딩은 빠른데 왜 사용자들은 느리다고 말할까?", "화면은 보이는데 왜 클릭이 안 되는 순간이 있을까?" 같은 질문에 답하기 어렵다. 반면, 지표를 체계적으로 수집하고 분석하며 지속적으로 개선한다면, 로딩 속도와 반응성을 함께 끌어올려 사용자 만족도, 전환율, 브랜드 이미지까지 향상시킨다.

이번 장에서는 이러한 브라우저 성능 지표들이 구체적으로 어떤 의미를 갖는지, 어떻게 측정되며, 서로 어떤 관계를 맺고 있는지를 살펴본다. 이는 다음 절에서 다룰 성능 측정 도구와 개선 전략을 이해하는 데 중요한 기반이 된다. 브라우저 성능 지표는 결국 사용자가 더 편하게 웹을 이용할 수 있도록 돕는 나침반과 같은 존재이므로, 깊이 이해해두면 모든 웹 프로젝트에서 큰 도움이 된다.

## 2-1-2 핵심 웹 지표 (Core Web Vitals)

다양한 성능 지표 속에서 사용자의 실제 경험을 가장 잘 대변하는 것으로 평가받는 세 가지 핵심 지표가 있다. 바로 로딩 성능을 나타내는 LCP(Largest Contentful Paint), 상호작용성을 측정하는 INP(Interaction to Next Paint), 그리고 시각적 안정성을 보여주는 CLS(Cumulative Layout Shift)이다. 이들을 묶어 '핵심 웹 지표(Core Web Vitals)'라고 부르고, 웹사이트 품질과 검색 엔진 최적화(SEO)에 큰 영향을 미친다. 이제 이 핵심 지표들을 하나씩 자세히 살펴본다.

### 2-1-2-1. LCP(Largest Contentful Paint)

#### LCP의 정의와 등장 배경

웹사이트의 성능을 측정하는 방법은 다양하지만, 가장 효과적인 방법은 실제 사용자가 체감하는 속도를 정확히 반영하는 것이다. 과거에는 웹사이트 성능 측정에 주로 페이지 로딩 완료 시점(`onLoad` 이벤트)을 사용했다. 하지만 페이지가 로드되는 시점이 사용자가 실제로 원하는 콘텐츠를 보는 시점과 일치하지 않는 경우가 많았다. 실제로, 페이지가 모두 로딩되었다고 브라우저가 알려줘도 사용자는 여전히 빈 화면을 보고 있거나, 로딩 스피너를 기다리고 있을 수 있다. 이러한 문제를 해결하기 위해 등장한 것이 바로 Largest Contentful Paint, 줄여서 LCP라는 지표다.

LCP는 웹페이지가 로드될 때 화면에 표시되는 가장 큰 콘텐츠가 나타나는 시점을 측정하는 지표다. 다시 말해, 사용자가 웹페이지를 열었을 때 시각적으로 가장 크고 중요하게 인지되는 요소(보통 이미지나 큰 텍스트 블록)가 브라우저 화면에 처음으로 완전히 표시되는 시간을 나타낸다. 이는 웹페이지의 핵심 콘텐츠가 사용자에게 얼마나 빠르게 전달되는지 측정하는 지표로서, 사용자 중심의 성능 지표(User-Centric Performance Metric)의 대표적인 사례다.

구글은 2020년부터 LCP를 핵심 웹 지표 중 하나로 지정하여, 웹사이트 성능 평가와 검색 결과 순위 결정에 직접적으로 반영하고 있다. 사용자 경험을 중요시하는 구글의 철학에 따라, LCP의 성능이 좋을수록 검색 엔진 최적화(SEO)에도 긍정적인 영향을 주게 되었다.

#### LCP가 측정하는 요소는 무엇인가?

LCP는 페이지에서 시각적으로 가장 큰 콘텐츠 요소를 대상으로 한다. 모든 콘텐츠가 아니라, 페이지의 첫 번째 뷰포트(viewport)에 나타난 요소 중 가장 큰 단일 콘텐츠 요소가 대상이다. 여기서 뷰포트는 사용자의 디바이스 화면에 최초로 표시되는 영역을 의미한다. 사용자가 스크롤하지 않고 처음 보는 화면 영역이기 때문에 사용자 경험에 가장 직접적으로 영향을 미친다.

LCP로 간주될 수 있는 주요 요소 유형은 다음과 같다:

- `<img>` 요소
- `<svg>` 내부의 `<image>` 요소
- `<video>` 요소의 포스터 이미지 (poster attribute)
- 배경 이미지가 로드된 블록 레벨 요소 (`background-image` 속성 사용)
- 텍스트 노드를 포함하는 블록 레벨 요소 (예: `<p>`, `<h1>`, `<div>` 등)

페이지가 로드되는 동안 가장 큰 요소는 변경될 수 있다. 예를 들어 처음에는 큰 텍스트 단락이 가장 컸다가 나중에 더 큰 이미지가 로드되면 LCP는 해당 이미지가 렌더링된 시점으로 업데이트된다. 브라우저는 사용자가 페이지와 상호작용(클릭, 스크롤 등)하기 전까지 이러한 변경 사항을 추적하여 최종 LCP 값을 결정한다. LCP 값이 2.5초 이내면 '좋음', 4초 이내면 '개선 필요', 4초를 초과하면 '나쁨'으로 평가된다. LCP를 개선하려면 서버 응답 시간 단축(TTFB 개선), 렌더링 차단 리소스 제거, 클라이언트 측 렌더링 최소화, 이미지 최적화 등이 필요하다.

### 2-1-2-2. INP(Interaction to Next Paint)

#### INP의 정의와 중요성

사용자가 웹페이지와 상호작용했을 때 얼마나 빠르게 시각적인 피드백을 받는지는 전반적인 사용자 경험에 매우 큰 영향을 미친다. 버튼을 클릭했는데 아무런 반응이 없거나, 입력 필드에 글자를 입력했는데 한참 뒤에 나타난다면 사용자는 답답함을 느끼고 서비스에 대한 부정적인 인상을 갖게 된다. 이러한 '응답성(Responsiveness)'을 측정하기 위해 등장한 핵심 웹 지표가 바로 INP(Interaction to Next Paint)다.

INP는 사용자가 페이지와 상호작용(클릭, 탭, 키보드 입력 등)한 시점부터 브라우저가 다음 화면 업데이트(Paint)를 하기까지 걸리는 시간을 측정한다. 즉, 인터랙션에 대한 시각적 피드백이 얼마나 빨리 나타나는지를 나타내는 지표다. 과거에는 주로 FID(First Input Delay)가 첫 인터랙션의 지연 시간만을 측정했던 것과 달리, INP는 페이지에 머무는 동안 발생하는 _모든_ 인터랙션의 지연 시간을 고려하여 그중 가장 길었던 시간(또는 특정 백분위수)을 기준으로 평가한다. 이는 사용자가 경험하는 전반적인 응답성을 더 포괄적으로 반영한다.

INP가 중요한 이유는 사용자가 웹사이트를 '살아있다'고 느끼게 하는 핵심 요소이기 때문이다. 인터랙션에 대한 즉각적인 반응은 사용자에게 자신이 수행한 작업이 제대로 처리되고 있다는 확신을 준다. 반대로 지연이 길어지면 사용자는 앱이 멈췄다고 생각하거나, 반복적으로 클릭/탭을 하여 의도치 않은 결과를 초래하기도 한다. 구글은 2024년 3월부터 FID를 대체하여 INP를 Core Web Vitals에 포함시켰으며, 이는 응답성 측면에서의 사용자 경험을 더욱 중요하게 평가하겠다는 의미를 내포한다.

#### INP에 영향을 미치는 요인

INP 지연의 주된 원인은 메인 스레드(Main Thread)의 과도한 작업이다. 브라우저의 메인 스레드는 자바스크립트 실행, 레이아웃 계산, 렌더링 등 대부분의 중요한 작업을 처리한다. 만약 특정 인터랙션이 발생했을 때 메인 스레드가 다른 긴 작업(Long Task)으로 바쁘다면, 해당 인터랙션 처리가 지연될 수밖에 없다. INP는 다음과 같은 세 단계의 지연 시간을 모두 포함한다.

1. 입력 지연(Input Delay): 사용자가 인터랙션을 시작한 후 이벤트 핸들러가 실행되기 시작할 때까지의 시간. 메인 스레드가 다른 작업 중일 때 길어진다.
2. 처리 시간(Processing Time): 이벤트 핸들러 코드 자체가 실행되는 데 걸리는 시간. 복잡한 계산이나 비효율적인 코드가 원인이 될 수 있다.
3. 표현 지연(Presentation Delay): 이벤트 핸들러 실행이 완료된 후 브라우저가 변경된 내용을 화면에 실제로 그리기까지 걸리는 시간. 복잡한 레이아웃 업데이트나 렌더링 작업이 원인이 될 수 있다.

따라서 INP를 개선하기 위해서는 메인 스레드를 막는 긴 자바스크립트 작업을 줄이는 것이 핵심이다. 구체적인 방법으로는 코드 스플리팅을 통해 초기 로드 시 실행되는 JS 양 줄이기, `setTimeout`이나 `requestIdleCallback` 등을 활용해 긴 작업을 작은 단위로 분할하기, 웹 워커(Web Workers)를 사용해 메인 스레드 부담 덜기, 불필요한 DOM 변경 최소화 등이 있다. INP 값이 200ms 이내면 '좋음', 500ms 이내면 '개선 필요', 500ms를 초과하면 '나쁨'으로 평가된다.

### 2-1-2-3. CLS(Cumulative Layout Shift)

#### CLS의 정의와 필요성

웹페이지를 보고 있는데 갑자기 광고가 나타나면서 읽고 있던 텍스트가 아래로 밀려나거나, 버튼을 누르려는 순간 버튼 위치가 바뀌어 다른 것을 클릭하게 되는 경험은 누구나 한 번쯤 겪어봤을 것이다. 이처럼 페이지 로딩 중이나 사용자와의 상호작용 중에 예기치 않게 화면 요소의 위치가 변경되는 현상을 '레이아웃 이동(Layout Shift)'이라고 하며, 이로 인한 시각적 불안정성을 측정하는 핵심 웹 지표가 바로 CLS(Cumulative Layout Shift)다.

CLS는 페이지가 로드되는 전체 생애주기 동안 발생하는 모든 예기치 않은 레이아웃 이동 점수의 누적 합계를 측정한다. 점수가 높을수록 사용자는 시각적으로 불안정한 경험을 하게 되며, 이는 짜증을 유발하고 의도치 않은 조작을 하게 만들어 사용자 경험을 크게 해친다. 예를 들어, 중요한 결제 버튼의 위치가 갑자기 바뀌어 취소 버튼을 누르게 된다면 심각한 문제를 야기한다.

과거에는 이러한 시각적 안정성을 객관적으로 측정하기 어려웠으나, CLS의 등장은 개발자들이 이 문제를 정량적으로 파악하고 개선할 수 있는 기준을 제공했다. 특히 이미지나 동영상, 폰트, 광고 등 비동기적으로 로드되는 콘텐츠가 많은 현대 웹에서는 CLS 문제가 발생하기 쉬우므로, 이를 관리하는 것이 더욱 중요해졌다. 구글은 LCP, INP와 함께 CLS를 Core Web Vitals의 한 축으로 삼아, 웹사이트의 품질 평가 및 SEO에 반영하고 있다.

#### CLS는 어떻게 계산되며, 원인은 무엇인가?

CLS 점수는 개별 레이아웃 이동의 '영향 분율(Impact Fraction)'과 '거리 분율(Distance Fraction)'을 곱하여 계산된다. 영향 분율은 뷰포트에서 불안정한 요소가 이동 전후에 차지하는 영역의 합이며, 거리 분율은 해당 요소가 이동한 거리(수평 또는 수직 중 더 큰 값)를 뷰포트 크기로 나눈 값이다. 브라우저는 페이지 세션 동안 발생하는 모든 레이아웃 이동 점수를 누적하여 최종 CLS 값을 산출한다. (단, 사용자 입력 후 500ms 이내에 발생하는 예상된 레이아웃 변경은 계산에서 제외된다.)

CLS를 유발하는 주요 원인은 다음과 같다.

- 크기가 명시되지 않은 이미지나 비디오 요소: 브라우저가 이미지/비디오 파일을 로드하기 전까지는 해당 요소가 차지할 공간을 알 수 없다. 로드 완료 후 실제 크기만큼 공간을 확보하면서 주변 요소들을 밀어내게 된다. 이를 방지하려면 `<img>`, `<video>` 태그에 `width`와 `height` 속성을 명시하거나, CSS `aspect-ratio` 속성을 사용하는 것이 좋다.
- 크기가 명시되지 않은 광고, 임베드, iframe: 광고나 외부 콘텐츠 역시 로드되기 전까지 크기를 알 수 없는 경우가 많다. 가능한 경우 컨테이너 요소에 고정된 크기(예: `min-height`)를 지정하거나, 로드될 공간을 미리 확보해두는 것이 도움이 된다.
- 동적으로 삽입되는 콘텐츠: 사용자 인터랙션 없이 기존 콘텐츠 위나 아래에 새로운 콘텐츠(배너, 알림 등)가 갑자기 삽입되면 레이아웃 이동이 발생한다. 반드시 필요한 경우가 아니라면 피하고, 필요하다면 사용자 인터랙션에 대한 응답으로 표시하거나 미리 공간을 확보한다.
- 웹 폰트 로딩 (FOIT/FOUT): 웹 폰트가 로드되는 동안 대체 폰트(Fallback Font)가 먼저 표시되었다가 웹 폰트로 교체되면서 텍스트 크기나 간격이 달라져 레이아웃 이동을 유발한다 (FOIT: Flash of Invisible Text, FOUT: Flash of Unstyled Text). `font-display: optional` 사용, 폰트 사전 로드(`preload`) 등을 통해 영향을 최소화한다.

CLS 값이 0.1 이하면 '좋음', 0.25 이하면 '개선 필요', 0.25를 초과하면 '나쁨'으로 평가된다. CLS는 사용자의 신뢰도와 직접적인 관련이 있으므로, 낮은 점수를 유지하는 것이 중요하다.

## 2-1-3 추가 웹 지표

핵심 웹 지표 외에도 웹 성능을 진단하고 이해하는 데 도움이 되는 여러 추가 지표들이 있다. 이들은 특정 성능 병목 지점을 더 상세하게 파악하거나, 핵심 웹 지표만으로는 알 수 없는 문제의 근본 원인을 찾는 데 유용하다.

### 2-1-3-1. TTFB(Time to First Byte)

TTFB는 사용자의 브라우저가 서버에 페이지를 요청한 시점부터 서버로부터 응답 데이터의 첫 번째 바이트를 수신할 때까지 걸리는 시간을 측정한다. 이는 순수한 네트워크 지연 시간뿐만 아니라, 서버가 요청을 처리하고 응답을 생성하는 데 걸리는 시간까지 포함한다. 따라서 TTFB는 서버 측 성능과 네트워크 연결 상태를 가늠하는 중요한 초기 지표가 된다.

TTFB가 느리다는 것은 사용자가 빈 화면을 보는 시간이 길어진다는 의미이며, 이는 후속되는 모든 로딩 지표(FCP, LCP 등)에 연쇄적으로 악영향을 미친다. 아무리 프론트엔드 코드를 최적화해도 서버 응답 자체가 느리면 전체적인 로딩 성능 개선에 한계가 있다. TTFB가 느린 일반적인 원인으로는 느린 서버 로직 처리, 데이터베이스 쿼리 지연, 서버 하드웨어 리소스 부족, 지리적으로 먼 서버 위치, 네트워크 혼잡 등이 있다.

TTFB를 개선하기 위해서는 서버 애플리케이션 코드 최적화, 데이터베이스 쿼리 최적화, 서버 하드웨어 증설, CDN(Content Delivery Network) 활용을 통한 지리적 거리 단축, 서버 측 캐싱 구현 등을 고려한다. 일반적으로 TTFB는 수백 밀리초(ms) 이내를 목표로 하지만, 이상적인 값은 콘텐츠 유형과 서버 환경에 따라 달라진다.

### 2-1-3-2. FCP(First Contentful Paint)

FCP는 사용자가 페이지에 접속한 후 화면에 _어떤 종류의 콘텐츠라도_ 처음으로 렌더링되는 시점을 측정한다. 여기서 '콘텐츠'란 텍스트, 이미지(배경 이미지 포함), `<svg>` 요소, 또는 흰색이 아닌 `<canvas>` 요소 등을 의미한다. 단순히 빈 배경색이나 테두리만 그려지는 것이 아니라, 사용자가 시각적으로 무언가 로딩되고 있음을 인지할 수 있는 첫 순간을 포착한다.

FCP는 사용자에게 '페이지가 작동하고 있다'는 초기 피드백을 주는 중요한 지표다. FCP가 빠르면 사용자는 기다리는 동안 덜 지루함을 느끼고 페이지 이탈률이 낮아지는 경향이 있다. LCP가 _가장 큰_ 콘텐츠가 그려지는 시점을 측정한다면, FCP는 _어떤 것이든 처음으로_ 그려지는 시점을 측정한다는 차이가 있다. 예를 들어, 헤더 로고나 작은 텍스트가 먼저 표시되면 FCP는 빠르지만, 본문의 큰 이미지가 늦게 로드되면 LCP는 느리다.

FCP는 주로 TTFB와 렌더링 차단 리소스(Render-Blocking Resources)에 의해 영향을 받는다. 서버 응답(TTFB)이 빨라야 하고, 브라우저가 초기 렌더링을 시작하기 전에 파싱하고 실행해야 하는 CSS나 JavaScript 파일의 양이 적어야 FCP가 빨라진다. 따라서 FCP 개선을 위해서는 TTFB 개선과 더불어, 불필요한 CSS/JS 제거, 중요한 CSS 인라인 처리, JS 비동기 로딩(`async`, `defer`) 등의 기법이 사용된다. FCP 값이 1.8초 이내면 '좋음', 3초 이내면 '개선 필요', 3초를 초과하면 '나쁨'으로 평가된다.

### 2-1-3-3. TTI(Time to Interactive)

TTI는 페이지가 시각적으로 렌더링될 뿐만 아니라, 사용자 입력(클릭, 키보드 입력 등)에 안정적으로 반응할 수 있게 되는 시점을 측정한다. 즉, 페이지가 '상호작용 가능' 상태가 되는 데까지 걸리는 시간이다. TTI는 다음 두 가지 조건을 모두 만족하는 시점을 기준으로 한다.

1. 페이지에 유의미한 콘텐츠(FCP 기준)가 표시되었다.
2. 보이는 요소들에 대한 이벤트 핸들러가 등록되었다.
3. 이벤트 핸들러가 50ms 이내에 사용자 인터랙션에 반응할 수 있다. (즉, 메인 스레드가 장시간(50ms 이상)의 작업으로 막혀 있지 않다.)

TTI는 '페이지가 로드된 것처럼 보이지만 실제로는 클릭해도 반응이 없는' 상태, 즉 '가짜 로딩 완료' 문제를 진단하는 데 유용했다. 예를 들어, FCP나 LCP는 빠르지만 초기 실행해야 할 자바스크립트가 너무 많아서 메인 스레드가 오랫동안 바쁘다면, 사용자는 화면을 보고 클릭해도 아무런 반응이 없는 답답한 경험을 하게 된다. TTI는 이러한 메인 스레드의 '조용한' 상태를 확인하여 페이지가 진정으로 사용 가능한 시점을 알려준다.

하지만 TTI는 측정의 복잡성과 변동성, 그리고 사용자의 첫 인터랙션 시점과의 불일치 등 몇 가지 한계점을 가지고 있었다. 이 때문에 구글은 응답성 측정의 핵심 지표를 FID를 거쳐 현재의 INP로 업데이트했다. 그럼에도 불구하고 TTI는 여전히 Lighthouse와 같은 Lab 테스트 도구에서 중요한 진단 지표로 사용된다. TTI는 주로 메인 스레드를 오랫동안 점유하는 긴 자바스크립트 작업(Long Tasks)에 의해 지연된다. TTI를 개선하려면 코드 스플리팅, 트리 쉐이킹, 중요하지 않은 JS 지연 로딩, Long Task 분할 등의 기법을 통해 메인 스레드 작업을 최소화한다. Lighthouse 기준으로 TTI가 3.8초 이내면 '좋음', 7.3초 이내면 '개선 필요', 7.3초를 초과하면 '나쁨'으로 간주된다.

## 2-1-4 각 지표를 측정하는 방법

웹 성능 지표들을 이해했다면, 다음 단계는 이를 실제로 측정하는 방법을 아는 것이다. 성능 지표는 크게 두 가지 환경에서 측정된다: 실험실 환경(Lab Data)과 실제 사용자 환경(Field Data, 또는 Real User Monitoring - RUM). 각 환경은 서로 다른 목적과 장단점을 가지며, 사용하는 도구도 다르다.

1. 실험실 환경 (Lab Data):

실험실 데이터는 개발자의 기기나 특정 서버에서 일관되고 통제된 환경 하에 성능을 측정하는 방식이다. 특정 네트워크 속도, CPU 성능 등을 시뮬레이션하여 테스트하므로, 코드 변경 전후의 성능 변화를 비교하거나 특정 조건에서의 병목 현상을 재현하고 디버깅하는 데 유용하다. 하지만 실제 다양한 사용자들의 환경(기기, 네트워크, 위치 등)을 완벽하게 반영하지는 못한다는 한계가 있다.

- Chrome DevTools (크롬 개발자 도구): 브라우저에 내장된 강력한 도구다. 'Performance' 탭에서는 페이지 로딩 및 인터랙션 중 발생하는 모든 이벤트를 타임라인 형태로 상세히 기록하여 LCP, FCP, CLS, TBT(INP와 관련 높음) 등을 분석하고 병목 지점을 찾는다. 'Lighthouse' 탭(아래 참조)도 내장되어 있다.
- Lighthouse: 구글에서 만든 오픈소스 자동화 도구로, 웹 페이지의 품질(성능, 접근성, SEO 등)을 다각도로 검사한다. 특히 성능 섹션에서는 LCP, CLS, TBT(TTI와 함께 표시됨), FCP, Speed Index 등 주요 지표를 측정하고 점수화하며, 구체적인 개선 권장 사항까지 제시해준다. Chrome DevTools 내에서도 실행 가능하며, CI/CD 파이프라인에 통합하여 사용할 수도 있다. Lab 환경 측정의 대표 주자다.
- WebPageTest: 웹사이트 성능 측정 및 분석을 위한 강력한 온라인 도구다. 전 세계 여러 지역, 다양한 브라우저 및 네트워크 환경을 선택하여 상세한 로딩 폭포수(Waterfall) 차트와 함께 각종 성능 지표(LCP, CLS, FCP, TTI 등)를 측정한다. 특히 로딩 과정을 비디오로 녹화해주어 시각적인 분석에 유용하다.

2. 실제 사용자 환경 (Field Data / RUM):

실제 사용자 데이터는 웹사이트를 방문하는 실제 사용자들의 브라우저에서 성능 지표를 수집하는 방식이다. 이는 다양한 네트워크 환경, 기기, 사용 패턴을 반영하므로 사용자들이 실제로 경험하는 성능을 가장 정확하게 파악한다. 특정 사용자 그룹(예: 특정 국가, 특정 기기 사용자)에서 발생하는 성능 문제를 식별하는 데 매우 유용하다. 다만, 통제된 환경이 아니므로 데이터의 편차가 클 수 있고, 디버깅을 위한 상세 정보를 얻기에는 Lab 데이터보다 제한적이다.

- Performance API (Web API): 브라우저 자체에서 제공하는 JavaScript API들을 사용하여 LCP, CLS, FCP, INP 등 다양한 성능 지표를 직접 수집한다. `PerformanceObserver` 인터페이스 등을 활용하여 지표 데이터를 가져온 후, 자체 분석 서버나 서드파티 모니터링 서비스로 전송하여 집계 및 분석할 수 있다. RUM 솔루션들의 기반 기술이 된다.
- RUM 솔루션 (Sentry, Datadog, New Relic, Google Analytics 등): 많은 상용 또는 오픈소스 모니터링 서비스들이 RUM 기능을 제공한다. 이들은 사이트에 간단한 스크립트를 추가하는 것만으로 실제 사용자들의 성능 지표(Core Web Vitals 포함)와 에러 데이터, 사용자 세션 정보 등을 자동으로 수집하고 대시보드를 통해 시각화해준다. 이를 통해 운영 환경에서의 성능 트렌드를 지속적으로 모니터링하고 문제 발생 시 알림을 받는다.

최적의 성능 관리를 위해서는 Lab 데이터와 Field 데이터를 모두 활용하는 것이 좋다. 개발 및 테스트 단계에서는 Lab 도구를 사용하여 문제를 진단하고 개선 효과를 빠르게 확인하며, 실제 운영 환경에서는 RUM 도구를 통해 실제 사용자 경험을 모니터링하고 예상치 못한 성능 저하를 감지하는 상호 보완적인 접근 방식이 권장된다.

## 2-1-5 지표간의 상관관계

웹 성능 지표들은 서로 독립적인 값이 아니라, 상호 밀접하게 연관되어 영향을 주고받는다. 따라서 특정 지표 하나만 개선하려고 집중하기보다는, 여러 지표 간의 관계를 이해하고 종합적인 관점에서 최적화를 진행하는 것이 중요하다. 지표 간의 상관관계를 이해하면 문제의 근본 원인을 더 정확히 파악하고, 어떤 최적화 작업이 다른 지표에 어떤 영향을 미칠지 예측하며, 제한된 리소스 하에서 어떤 지표 개선에 우선순위를 두어야 할지 전략적으로 결정하는 데 도움이 된다.

예를 들어, TTFB는 가장 기본적인 서버 응답 및 네트워크 지연 지표로서, 이후의 모든 로딩 관련 지표에 직접적인 영향을 미친다. TTFB가 개선되면 일반적으로 FCP와 LCP도 함께 개선될 가능성이 높다. 서버 응답이 빨라야 브라우저가 콘텐츠를 더 빨리 받아 렌더링을 시작할 수 있기 때문이다.

FCP와 LCP는 모두 로딩 성능을 나타내지만, FCP는 '시작'을, LCP는 '핵심 콘텐츠 로딩 완료'를 나타낸다. FCP는 빠르지만 LCP가 느리다면, 초기 렌더링은 빠르지만 사용자가 실제로 중요하게 생각하는 큰 이미지나 텍스트 블록 로딩에 병목이 있다는 의미다. 이는 주로 큰 이미지 파일 최적화 부족, 중요한 리소스의 로딩 지연, 과도한 클라이언트 측 렌더링 등이 원인일 수 있다.

LCP와 INP(또는 과거의 TTI/TBT)는 로딩 성능과 상호작용성 간의 균형을 보여준다. LCP를 개선하기 위해 많은 자바스크립트를 초기에 로드하거나 실행하면, 메인 스레드가 바빠져 INP가 나빠진다. 반대로 INP를 개선하기 위해 자바스크립트 실행을 너무 뒤로 미루면, 인터랙티브한 요소의 렌더링 자체가 늦어져 사용자가 상호작용을 시도할 시점 자체가 늦어지기도 한다. 따라서 코드 스플리팅, 지연 로딩, Long Task 분할 등을 통해 로딩 속도와 상호작용성 사이의 적절한 균형점을 찾는다.

CLS는 주로 로딩 및 렌더링 과정에서의 시각적 안정성을 측정하므로 다른 지표들과 직접적인 인과관계는 적지만, 사용자 경험에는 큰 영향을 미친다. 예를 들어, CLS를 개선하기 위해 이미지에 크기를 명시하면 초기 렌더링 공간 확보에는 도움이 되지만, 이미지 파일 자체가 너무 크면 LCP는 여전히 느릴 수 있다. 또한, 동적 콘텐츠 삽입 시 CLS를 피하기 위해 미리 공간을 확보해두는 방식은 때로 초기 렌더링(FCP)을 약간 지연시키기도 한다.

이처럼 각 지표는 웹 페이지의 특정 측면을 반영하며 서로 영향을 주고받는다. 따라서 성능 개선 작업을 할 때는 목표로 하는 핵심 지표뿐만 아니라 관련된 다른 지표들도 함께 모니터링한다. 예를 들어 LCP 개선 작업을 한 후, INP나 CLS가 악화되지 않았는지 확인하는 식이다.

어떤 지표 개선에 우선순위를 둘지는 서비스의 특성과 목표에 따라 달라진다. 예를 들어, 뉴스 기사나 블로그처럼 콘텐츠 소비가 주목적인 페이지는 LCP와 CLS가 매우 중요하다. 반면, 온라인 게임이나 복잡한 웹 애플리케이션처럼 상호작용이 핵심인 서비스는 INP가 최우선 고려 대상이 된다. RUM 데이터를 분석하여 실제 사용자들이 어떤 지표에서 가장 큰 불편을 겪고 있는지 파악하고, 비즈니스 목표와 연관 지어 우선순위를 결정하는 것이 현명한 접근 방식이다.

## 2-1-6 마치며

지금까지 우리는 브라우저 성능 지표가 무엇이며 왜 중요한지, 그리고 대표적인 핵심 웹 지표(LCP, INP, CLS)와 추가 지표(TTFB, FCP, TTI 등)들이 각각 어떤 의미를 갖는지 살펴보았다. 또한 이러한 지표들을 측정하는 다양한 방법(Lab vs Field)과 도구들, 그리고 지표들이 서로 어떻게 영향을 주고받는지에 대해서도 알아보았다.

웹 성능 지표는 단순히 숫자의 나열이 아니라, 사용자가 우리 웹사이트를 어떻게 경험하고 있는지를 객관적으로 보여주는 거울과 같다. 이 지표들을 제대로 이해하고 활용할 때, 우리는 막연한 감이나 추측이 아닌 데이터에 기반하여 성능 문제를 진단하고, 개선 작업의 효과를 측정하며, 궁극적으로 사용자에게 더 빠르고 안정적이며 쾌적한 경험을 제공한다.

핵심은 여러 지표를 종합적으로 이해하고, 우리 서비스의 특성과 사용자에게 가장 큰 영향을 미치는 부분을 파악하여 전략적으로 접근하는 것이다. 어떤 지표는 로딩 속도를, 어떤 지표는 반응성을, 또 다른 지표는 시각적 안정성을 대변한다. 이들 사이의 균형을 맞추는 것이 진정한 웹 성능 최적화의 길이다.

다음 장부터는 이러한 지표들을 실제로 개선하기 위한 구체적인 방법론과 기술들을 더 깊이 있게 다룰 것이다. 브라우저의 렌더링 과정을 이해하고, 네트워크, 자바스크립트, CSS, 에셋 등 각 영역별 최적화 기법들을 배우게 될 것이다. 이번 장에서 배운 성능 지표에 대한 이해는 앞으로의 학습 여정에서 든든한 기초이자 방향을 제시하는 나침반이 되어 줄 것이다.
